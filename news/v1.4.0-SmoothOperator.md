# ðŸ§ˆ v1.4.0 - SmoothOperator

Hello everyone, after a long time the new version is released with many nice innovations. The new version includes many bug fixed, imporvements, new modules and many more innovations.

Thank you to all the contributors in the past months for all PRs. And of course, also a big thank you to people who have benn submitting issues. If you want to join our Discord, follow the link [Discord](https://discord.gg/pjwUTQzg8R).

# backup_operator Module

As the name suggest, this module `-M backup_operator`can exploit the Backup Operators group to dump the SAM / SECURITY of the DC. And of course it also read the NTDS too. Really big thank to [@mpgn](https://x.com/mpgn_x64) for creating this module.

![image](https://github.com/user-attachments/assets/bce85c5a-ffb1-4b17-9d02-acd76b4d51cd)

## Certificate authentication

NetExec now also provides certificate authentication. Thanks to [@mpgn](https://x.com/mpgn_x64) for integrating it into NetExec using [@dirkjanm](https://github.com/dirkjanm) from the repository.

```
--pfx-cert/--pfx-base64 with --pfx-pass for PFX certificates
--pem-cert with --pem-key for PEM certificates
```
![image](https://github.com/user-attachments/assets/c758b9bc-a587-4ced-84ec-453af69ae90c)

![image](https://github.com/user-attachments/assets/90558bd8-3f81-428e-afb3-97719e7aa231)

## NFS escape to root file system

With the recently discovered misconfiguration vulnerability of NFS, access to all system files can be provided via the NFS protocol running on Linux systems. 
ince it would be too long to explain the details of the vulnerability here, you can read the details in the article on this [link](https://www.hvs-consulting.de/en/nfs-security-identifying-and-exploiting-misconfigurations/). 
And of course, thanks to [@NeffIsBack](https://x.com/al3x\_n3ff). For doing deep research on this vulnerability and immediately integrating it into the NFS protocol that was recently added to NetExec.

**Note**: With this update, It changed the working of Download and Upload files usage. Don't forget to look at new usage of [flags](../nfs-protocol/Download-and-Upload-Files.md)

![image](https://github.com/user-attachments/assets/f71118eb-a343-4a53-b9e9-9c9decd7a1a4)

![image](https://github.com/user-attachments/assets/2c2a0f98-3493-42bb-bc26-234836b722f1)

## SMB Share Dir Option

Yes, now you can list SMB shares directories with new `--dir` SMB flag. Created by [@y0no](https://github.com/y0no).

![image](https://github.com/user-attachments/assets/8ef5d270-0b86-4cf8-acee-f4ae370e59e7)

## SMB Generate Hosts File Option

NetExec now creates host files for machines enumerated over SMB with `--generate-hosts-file <filename>`, making it easier to add/remove /etc/hosts in CTFs and in real life. Thanks to [@mpgn](https://x.com/mpgn_x64).

![image](https://github.com/user-attachments/assets/ffe68e1f-ea15-4ecc-86b3-abc059064691)

## Generating KRB5 File

The new SMB flag `generate-krb5-file <filename>` generates a valid krb5.conf file, similar to `generate-hosts-file`, to enable Kerberos authentication with other tools. Thanks to [@mpgn](https://x.com/mpgn_x64).

![image](https://github.com/user-attachments/assets/e0655094-72fd-42d0-b9b9-8bceef049a8c)

## LDAP Find Delegation Option

It is now easier to make enums for delegation attacks. With the new LDAP flag `--find-delegation`, delegation query in the target domain can now be controlled. Thanks to [@termanix](https://github.com/termanix) for integrating it from impacket-finddelegetion.

![image](https://github.com/user-attachments/assets/be853996-137e-4ff2-b46a-0956a208e86d)

## An option on ioxidresolver Module to Get Only IPs Different Than Targets

To Do  thanks to (@nikaiw)[https://github.com/nikaiw]

![image](https://github.com/user-attachments/assets/9d07dfcc-0cd5-49c9-a06f-dfb642ef743a)

## LDAPS Channel Binding

To Do. Thanks to [@NeffIsBack](https://x.com/al3x\_n3ff) 

![image](https://github.com/user-attachments/assets/3dcb9ff0-e0b6-4df5-b643-3bd662182915)

## BaseDN Flag to LDAP

New LDAP flag `--base-dn` provides the ability to manually specify the baseDN for search requests. It finds the objects, if would not be found by the query. Thanks to [@NeffIsBack](https://x.com/al3x\_n3ff).

![image](https://github.com/user-attachments/assets/e5c7de03-464c-4fd9-9d8d-8d1206da7f39)

## RID Brute Force on MSSQL

Yes, Now MSSQL protocol provides RID brute forcing! `--rid-brute` It uses Transact-SQL queries for that. [@Adamkadaban](https://github.com/Adamkadaban).

![image](https://github.com/user-attachments/assets/6ee1749b-650c-420b-aa5c-76009847035f)

## Coercing on MSSQL

After coerce_plus Module, With the joint development of [@Adamkadaban](https://github.com/Adamkadaban) and [@lodos](https://github.com/lodos2005), coerce attacks can now be performed over MSSQL `-M mssql_coerce `.

![image](https://github.com/user-attachments/assets/272c2b13-53a2-436c-afdc-1a82152ced82)

## Shadow RDP module

That new module `-M shadowrdp` provides enabling remotely Shadow RDP which can be used to eavesdrop on a particular RDP session. Thanks to [@Dfte](https://x.com/Defte_).

![image](https://github.com/user-attachments/assets/0cf2a863-baf5-4df5-9113-99ae029abc38)

## Notepad++ Module

With this module `-M notepad++`, unsaved and thus backed up notepad documents can be dump. It is now important to close tabs while using the App. Thanks to [@Dfte](https://x.com/Defte_).

![image](https://github.com/user-attachments/assets/462b4dc3-1d7e-4fca-9292-04e4e4c39156)

## New Modules on MSSQL

Thanks to [@deathflamingo](https://github.com/deathflamingo), MSSQL protocol has *enum_impersonate*, *enum_logins*, *enum_links*, *exec_on_link*, *link_enable_xp*, *link_xpcmd* modules. With this modules the functionality of MSSQL has increased even more.

## Snipping Tool Module

Now Think twice before copying a screenshot. With this module `-M snipped` newer Windows Snipping Tool of screenshots can bu dumped,  even if it saved the file in another directory. Thanks to [@Yeeb1](https://x.com/Yeeb_).

![image](https://github.com/user-attachments/assets/9bf30f52-ee93-4d68-9fc4-17fe8dcd23cb)

## MSSQL Linked Server

If found MSSQL admin user, linked servers config's can bu find `-M enum_links` with query the login for. Thanks to [@NeffIsBack](https://x.com/al3x\_n3ff).

![image](https://github.com/user-attachments/assets/43ad4bcf-0e19-42d2-9cf5-a69f804b4f32)

## Remove Mic Vulnerability

This new module `-M remove-mic` checks if it target vulnerable to CVE-2019-1040. But dont forget that, it can't check for NTLMv1. Thanks to [@XiaoliChan](https://x.com/Memory_before).

![image](https://github.com/user-attachments/assets/e34cacc8-6601-4039-ba8d-b9739fe7fa3a)

## DPAPI Hash

Interested on dumping DPAPI hashes? This module `-M dpapi_hash` extracts of DPAPI "hash" based on the user's protected masterkey. Thanks to [@nikaiw](https://github.com/nikaiw).

![image](https://github.com/user-attachments/assets/af676b4a-aadc-40f5-b8d5-cf1521d35281)

## Outro
If you want to read about all changes in detail or download the latest standalone binaries check out the github page:

{% embed url="ttps://github.com/Pennyw0rth/NetExec/releases/tag/v1.4.0" %}
